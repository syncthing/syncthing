/*
// Copyright (C) 2021 The Syncthing Authors.
//
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this file,
// You can obtain one at https://mozilla.org/MPL/2.0/.

*/

.fancytree-container {
    cursor: pointer;
    width: 100%;
}

.fancytree-hide {
    visibility: collapse;
}

/* Node needs to be block, and expander, icon and title
   inline-block to properly wrap unbreakable text. */
.fancytree-node {
    display: block;
    white-space: nowrap;
    /* expander 16px + icon 16px + title padding 8px */
    padding-right: 40px;
}
.fancytree-expander,
.fancytree-icon,
.fancytree-title {
    display: inline-block;
}

.fancytree-expander,
.fancytree-icon {
    margin-top: 4px;
    vertical-align: top;
    width: 16px;
}

.fancytree-childcounter {
    background: #777;
    border-radius: 10px;
    border: 1px solid gray;
    color: #fff;
    font-size: 13px;
    opacity: .75;
    padding: 2px 3px;
    position: relative;
    right: 8px;
    top: -9px;
    user-select: none;
}

.fancytree-title {
    padding-left: 8px;
    white-space: normal;
    word-break: break-all;
}

.fancytree-temp .fancytree-title {
    opacity: 0.6;
    font-style: italic;
}

/*
 * Shared container style for scrollable, resizable trees containers
 */

.tree-container {
    overflow-y: scroll;
    resize: vertical;
    /* Always fit at least one folder with dropdown open. */
    min-height: 136px;
}

/* Remove table outline as rows have own focus style already. */
.tree-container .tree:focus {
    outline: 0;
}

/* Ignore fixed height when manually resized. */
.tree-container[style*="height"] {
    max-height: none !important;
}

/*
 * Max height adjustment for trees in modals
 * This ensures tree containers don't overflow vertically on the screen.
 * The constants can be found using the browser's developer tools to calculate
 * the maximum possible height.
 * If you add/remove elements in the modal, you may need to adjust these values.
 */

#restoreTree-container,
#folderTree-container {
    max-height: calc(100vh - 390px);
}

@media (min-width: 768px) {
    #restoreTree-container,
    #folderTree-container {
        max-height: calc(100vh - 401px);
    }
}
@media (min-width: 992px) {
    #restoreTree-container,
    #folderTree-container {
        max-height: calc(100vh - 333px);
    }
}

/*
 * Specific tweaks for restoreTree component
 */

/* Align dropdown with title first line. */
#restoreTree td + td {
    padding-top: 4px;
    vertical-align: top;
}

/* Reduce space between toggle and menu on mobile. */
#restoreTree .dropdown-toggle {
    margin-bottom: 0;
}

/* Change direction to remain on screen on mobile. */
#restoreTree .dropdown-menu {
    left: auto;
    right: 0;
}

/* Ensure maximum space for filtering and date range. */
#restoreVersions .form-group,
#restoreVersions .form-control {
    width: 100%;
}

/*
 * Specific tweaks for folderTree component
 */

/* Maintain consistent padding with the restoreTree component */
#folderTree td {
    padding: 2px 0;
}
